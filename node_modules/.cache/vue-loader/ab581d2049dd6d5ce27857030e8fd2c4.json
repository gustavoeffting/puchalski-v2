{"remainingRequest":"/home/gustavo/workspace/puchalski/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gustavo/workspace/puchalski/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/gustavo/workspace/puchalski/src/App.vue","mtime":1651341082517},{"path":"/home/gustavo/workspace/puchalski/node_modules/cache-loader/dist/cjs.js","mtime":1651338534497},{"path":"/home/gustavo/workspace/puchalski/node_modules/babel-loader/lib/index.js","mtime":1651338534797},{"path":"/home/gustavo/workspace/puchalski/node_modules/vuetify-loader/lib/loader.js","mtime":1651338529589},{"path":"/home/gustavo/workspace/puchalski/node_modules/cache-loader/dist/cjs.js","mtime":1651338534497},{"path":"/home/gustavo/workspace/puchalski/node_modules/vue-loader/lib/index.js","mtime":1651338529133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFdlYXRoZXIsIGdldExvY2F0aW9uIH0gZnJvbSAiLi9zZXJ2aWNlcyIKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAoKICBkYXRhOiAoKSA9PiAoewogICAgYWRkcmVzczogbnVsbCwKICAgIGFkZHJlc3NEdW1teU1vZGVsOiBudWxsLAogICAgdGVtcGVyYXR1cmU6IG51bGwsCiAgICB3ZWF0aGVyOiBudWxsLAogICAgbG9jYXRpb246IG51bGwsCiAgICBjdXJyZW50RGF0ZTogbnVsbCwKICAgIGZvcmVjYXN0OiBbXSwKICAgIGNvbWJvQm94TW9kZWw6IG51bGwsCiAgICBpdGVtczogW10KICB9KSwKCiAgbW91bnRlZCAoKSB7CiAgICBsZXQgc3RvcmVkU2VhcmNoZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdG9yZWRTZWFyY2hlcycpKQoKICAgIGlmIChzdG9yZWRTZWFyY2hlcykgewogICAgICB0aGlzLml0ZW1zID0gc3RvcmVkU2VhcmNoZXMKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkF1dG9Db21wbGV0ZVNlbGVjdGlvbiAoKSB7CiAgICAgIHRoaXMuYWRkcmVzcyA9IHRoaXMuYWRkcmVzc0R1bW15TW9kZWwKICAgIH0sCiAgICBjdXN0b21PbkNoYW5nZUhhbmRsZXIgKCkgewogICAgICBzZXRUaW1lb3V0ICgoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuJHJlZnMuc2VhcmNoQ29tYm9ib3gpIHsKICAgICAgICAgIHRoaXMuYWRkcmVzcyA9IHRoaXMuJHJlZnMuc2VhcmNoQ29tYm9ib3guaW50ZXJuYWxTZWFyY2gKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIGdldExvY2F0aW9uSW5mbyAoKSB7CiAgICAgIGlmICghdGhpcy5hZGRyZXNzIHx8ICF0aGlzLmFkZHJlc3MudHJpbSgpKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGxldCBzdG9yZUFkZHJlc3MgPSB0cnVlCgogICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBpZiAoaXRlbSA9PSB0aGlzLmFkZHJlc3MpIHsKICAgICAgICAgIHN0b3JlQWRkcmVzcyA9IGZhbHNlCiAgICAgICAgfQogICAgICB9KQoKICAgICAgaWYgKHN0b3JlQWRkcmVzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmFkZHJlc3MpCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3N0b3JlZFNlYXJjaGVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5pdGVtcykpCiAgICAgIH0KCiAgICAgIGxldCBzdG9yZWRDb29yZGluYXRlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N0b3JlZENvb3JkaW5hdGVzJykpCiAgICAgIGxldCBsYXQKICAgICAgbGV0IGxuZwoKICAgICAgaWYgKHN0b3JlZENvb3JkaW5hdGVzKSB7CiAgICAgICAgc3RvcmVkQ29vcmRpbmF0ZXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgaWYgKGl0ZW0uYWRkcmVzcyA9PSB0aGlzLmFkZHJlc3MpIHsKICAgICAgICAgICAgbGF0ID0gaXRlbS5sYXQKICAgICAgICAgICAgbG5nID0gaXRlbS5sbmcKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CgogICAgICBpZiAobGF0ICYmIGxuZykgewogICAgICAgIHRoaXMuZ2V0V2VhdGhlckluZm8obGF0LGxuZykKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGdldExvY2F0aW9uKHRoaXMuYWRkcmVzcykKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoJ07Do28gZW5jb250cmFkbycpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIGlmICghc3RvcmVkQ29vcmRpbmF0ZXMpIHsKICAgICAgICAgIHN0b3JlZENvb3JkaW5hdGVzID0gW10KICAgICAgICB9CgogICAgICAgIGNvbnN0IGdlb2NvZGUgPSB7CiAgICAgICAgICAiYWRkcmVzcyI6IHRoaXMuYWRkcmVzcywKICAgICAgICAgICJsYXQiOiByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0LAogICAgICAgICAgImxuZyI6IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcKICAgICAgICB9CgogICAgICAgIHN0b3JlZENvb3JkaW5hdGVzLnB1c2goZ2VvY29kZSkKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RvcmVkQ29vcmRpbmF0ZXMnLCBKU09OLnN0cmluZ2lmeShzdG9yZWRDb29yZGluYXRlcykpCgogICAgICAgIHRoaXMuZ2V0V2VhdGhlckluZm8ocmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCxyZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKQogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0V2VhdGhlckluZm8gKGxhdCxsbmcpIHsKICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpCiAgICAgIGNvbnN0IGRkID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKQogICAgICBjb25zdCBtbSA9IFN0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKQogICAgICBjb25zdCB5ZWFyID0gU3RyaW5nKHRvZGF5LmdldFllYXIoKSkKICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IGRkICsgJy8nICsgbW0KCiAgICAgIGNvbnN0IGN1cnJlbnRIb3VyID0gZGQgKyAnLycgKyBtbSArICcvJyArIHllYXIgKyAnIC0gJyArIHRvZGF5LmdldEhvdXJzKCkKCiAgICAgIGxldCBzdG9yZWRXZWF0aGVyID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdG9yZWRXZWF0aGVyJykpCiAgICAgIGxldCBmaW5kQ2FjaGVXZWF0aGVyID0gZmFsc2UKCiAgICAgIGlmIChzdG9yZWRXZWF0aGVyKSB7CiAgICAgICAgc3RvcmVkV2VhdGhlci5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpZiAoaXRlbS5sYXN0UXVlcnkgPT0gY3VycmVudEhvdXIgJiYgaXRlbS5sYXQgPT0gbGF0ICYmIGl0ZW0ubG5nID09IGxuZykgewogICAgICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gaXRlbS50ZW1wZXJhdHVyZQogICAgICAgICAgICB0aGlzLndlYXRoZXIgPSBpdGVtLndlYXRoZXIKICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGl0ZW0ubG9jYXRpb24KICAgICAgICAgICAgZmluZENhY2hlV2VhdGhlciA9IHRydWUKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CgogICAgICBpZiAoZmluZENhY2hlV2VhdGhlciA9PT0gZmFsc2UpIHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFdlYXRoZXIobGF0LGxuZykKICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gTWF0aC5yb3VuZChyZXNwb25zZS5kYXRhLm1haW4udGVtcCkKICAgICAgICB0aGlzLndlYXRoZXIgPSByZXNwb25zZS5kYXRhLndlYXRoZXJbMF0uZGVzY3JpcHRpb24KICAgICAgICB0aGlzLmxvY2F0aW9uID0gcmVzcG9uc2UuZGF0YS5uYW1lCgogICAgICAgIGNvbnN0IHdlYXRoZXJJbmZvID0gewogICAgICAgICAgImxhc3RRdWVyeSI6IGN1cnJlbnRIb3VyLAogICAgICAgICAgInRlbXBlcmF0dXJlIjogTWF0aC5yb3VuZChyZXNwb25zZS5kYXRhLm1haW4udGVtcCksCiAgICAgICAgICAid2VhdGhlciI6IHJlc3BvbnNlLmRhdGEud2VhdGhlclswXS5kZXNjcmlwdGlvbiwKICAgICAgICAgICJsb2NhdGlvbiI6IHJlc3BvbnNlLmRhdGEubmFtZSwKICAgICAgICAgICJsYXQiOiBsYXQsCiAgICAgICAgICAibG5nIjogbG5nCiAgICAgICAgfQoKICAgICAgICBpZiAoIXN0b3JlZFdlYXRoZXIpIHsKICAgICAgICAgIHN0b3JlZFdlYXRoZXIgPSBbXQogICAgICAgIH0KCiAgICAgICAgc3RvcmVkV2VhdGhlci5wdXNoKHdlYXRoZXJJbmZvKQogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3N0b3JlZFdlYXRoZXInLCBKU09OLnN0cmluZ2lmeShzdG9yZWRXZWF0aGVyKSkKICAgICAgfQoKICAgICAgbGV0IHN0b3JlZEZvcmVjYXN0ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdG9yZWRGb3JlY2FzdCcpKQogICAgICBsZXQgZmluZENhY2hlRm9yZWNhc3QgPSBmYWxzZQoKICAgICAgaWYgKHN0b3JlZEZvcmVjYXN0KSB7CiAgICAgICAgc3RvcmVkRm9yZWNhc3QuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgaWYgKGl0ZW0ubGFzdFF1ZXJ5ID09IGN1cnJlbnRIb3VyICYmIGl0ZW0ubGF0ID09IGxhdCAmJiBpdGVtLmxuZyA9PSBsbmcpIHsKICAgICAgICAgICAgdGhpcy5mb3JlY2FzdCA9IGl0ZW0uZm9yZWNhc3QKICAgICAgICAgICAgZmluZENhY2hlRm9yZWNhc3QgPSB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgICAgaWYgKGZpbmRDYWNoZUZvcmVjYXN0ID09PSBmYWxzZSkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0V2VhdGhlcihsYXQsIGxuZykKICAgICAgICBjb25zdCBmb3JlY2FzdCA9IFtdCgogICAgICAgIGNvbnN0IGZvcmVjYXN0TGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdC5maWx0ZXIoIGVsZW1lbnQgPT4gewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZHRfdHh0LnN1YnN0cmluZygxMSwxMykgPT09ICcxMicgLy8gd2VhdGhlciBhdCAxMmgKICAgICAgICB9KQoKICAgICAgICBsZXQgaSA9IDAKICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGZvcmVjYXN0TGlzdCkgewogICAgICAgICAgZm9yZWNhc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogaSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGUnOiBpdGVtLmR0X3R4dC5zdWJzdHJpbmcoOCwxMCkgKyAnLycgKyBpdGVtLmR0X3R4dC5zdWJzdHJpbmcoNSw3KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAnd2VhdGhlcic6IGl0ZW0ud2VhdGhlclswXS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAndGVtcGVyYXR1cmUnOiBNYXRoLnJvdW5kKGl0ZW0ubWFpbi50ZW1wKQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgaSsrCiAgICAgICAgfQoKICAgICAgICB0aGlzLmZvcmVjYXN0ID0gZm9yZWNhc3QKCiAgICAgICAgY29uc3QgZm9yZWNhc3RJbmZvID0gewogICAgICAgICAgImxhc3RRdWVyeSI6IGN1cnJlbnRIb3VyLAogICAgICAgICAgImxhdCI6IGxhdCwKICAgICAgICAgICJsbmciOiBsbmcsCiAgICAgICAgICAiZm9yZWNhc3QiOiBmb3JlY2FzdAogICAgICAgIH0KCiAgICAgICAgaWYgKCFzdG9yZWRGb3JlY2FzdCkgewogICAgICAgICAgc3RvcmVkRm9yZWNhc3QgPSBbXQogICAgICAgIH0KCiAgICAgICAgc3RvcmVkRm9yZWNhc3QucHVzaChmb3JlY2FzdEluZm8pCiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc3RvcmVkRm9yZWNhc3QnLCBKU09OLnN0cmluZ2lmeShzdG9yZWRGb3JlY2FzdCkpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app id=\"main-content\">\n    <v-container>\n      <v-row :class=\"[temperature ? '' : 'home']\" align=\"center\" no-gutters>\n        <v-col>\n          <v-row v-if=\"!temperature\" no-gutters>\n            <v-col cols=\"12\">\n              <span class=\"fs-35 block text-center\">Previs√£o do tempo</span>\n            </v-col>\n          </v-row>\n          <v-row align=\"center\" justify=\"center\" class=\"pt-4\" no-gutters>\n            <v-col cols=\"12\" sm=\"8\">\n              <v-combobox\n                ref=\"searchCombobox\"\n                v-model=\"addressDummyModel\"\n                @change=\"onAutoCompleteSelection\"\n                @keyup=\"customOnChangeHandler\"\n                @paste=\"customOnChangeHandler\"\n                :items=\"items\"\n                label=\"Digite um local\"\n                color=\"#1e1559\"\n                outlined\n              ></v-combobox>\n            </v-col>\n            <v-col cols=\"12\" sm=\"2\">\n              <v-btn\n                @click=\"getLocationInfo\"\n                class=\"btn-search\"\n                outlined\n                x-large\n                elevation=\"2\"\n                color=\"#1e1559\"\n              >\n                Buscar\n              </v-btn>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n      <v-row v-if=\"temperature\" no-gutters>\n        <v-col cols=\"12\">\n          <v-row class=\"mb-10\" no-gutters>\n            <v-col cols=\"12\">\n              <div>\n                <span class=\"fs-100 block text-center\"><b> {{ temperature }}¬∞C </b></span>\n                <span class=\"fs-25 block text-center\"><b> {{ weather }} </b></span>\n                <span class=\"fs-25 block text-center\"> {{ location }} </span>\n                <span class=\"fs-25 block text-center\"> {{ currentDate }} </span>\n              </div>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col cols=\"12\">\n              <v-row class=\"backblur\" no-gutters>\n                <v-col>\n                  <span class=\"fs-20 block text-center\">Previs√£o</span>\n                </v-col>\n              </v-row>\n              <v-row v-for=\"item in forecast\" :key=\"item.id\" align=\"center\" class=\"backblur\" no-gutters>\n                <v-col cols=\"6\">\n                  <span class=\"fs-30 block text-center\"> {{ item.date }} </span>\n                </v-col>\n                <v-col cols=\"6\">\n                  <span class=\"fs-20 block text-center\"> {{ item.temperature }}¬∞C<br> {{ item.weather }} </span>\n                </v-col>\n              </v-row>\n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport { getWeather, getLocation } from \"./services\"\nexport default {\n  name: 'App',\n\n  data: () => ({\n    address: null,\n    addressDummyModel: null,\n    temperature: null,\n    weather: null,\n    location: null,\n    currentDate: null,\n    forecast: [],\n    comboBoxModel: null,\n    items: []\n  }),\n\n  mounted () {\n    let storedSearches = JSON.parse(localStorage.getItem('storedSearches'))\n\n    if (storedSearches) {\n      this.items = storedSearches\n    }\n  },\n\n  methods: {\n    onAutoCompleteSelection () {\n      this.address = this.addressDummyModel\n    },\n    customOnChangeHandler () {\n      setTimeout (() => {\n        if (this.$refs.searchCombobox) {\n          this.address = this.$refs.searchCombobox.internalSearch\n        }\n      });\n    },\n    async getLocationInfo () {\n      if (!this.address || !this.address.trim()) {\n        return\n      }\n\n      let storeAddress = true\n\n      this.items.forEach((item) => {\n        if (item == this.address) {\n          storeAddress = false\n        }\n      })\n\n      if (storeAddress === true) {\n        this.items.push(this.address)\n        localStorage.setItem('storedSearches', JSON.stringify(this.items))\n      }\n\n      let storedCoordinates = JSON.parse(localStorage.getItem('storedCoordinates'))\n      let lat\n      let lng\n\n      if (storedCoordinates) {\n        storedCoordinates.forEach((item) => {\n          if (item.address == this.address) {\n            lat = item.lat\n            lng = item.lng\n          }\n        })\n      }\n\n      if (lat && lng) {\n        this.getWeatherInfo(lat,lng)\n      } else {\n        const response = getLocation(this.address)\n        if (response.data.results.length === 0) {\n          alert('N√£o encontrado')\n          return\n        }\n\n        if (!storedCoordinates) {\n          storedCoordinates = []\n        }\n\n        const geocode = {\n          \"address\": this.address,\n          \"lat\": response.data.results[0].geometry.location.lat,\n          \"lng\": response.data.results[0].geometry.location.lng\n        }\n\n        storedCoordinates.push(geocode)\n        localStorage.setItem('storedCoordinates', JSON.stringify(storedCoordinates))\n\n        this.getWeatherInfo(response.data.results[0].geometry.location.lat,response.data.results[0].geometry.location.lng)\n      }\n    },\n    async getWeatherInfo (lat,lng) {\n      const today = new Date()\n      const dd = String(today.getDate()).padStart(2, '0')\n      const mm = String(today.getMonth() + 1).padStart(2, '0')\n      const year = String(today.getYear())\n      this.currentDate = dd + '/' + mm\n\n      const currentHour = dd + '/' + mm + '/' + year + ' - ' + today.getHours()\n\n      let storedWeather = JSON.parse(sessionStorage.getItem('storedWeather'))\n      let findCacheWeather = false\n\n      if (storedWeather) {\n        storedWeather.forEach((item) => {\n          if (item.lastQuery == currentHour && item.lat == lat && item.lng == lng) {\n            this.temperature = item.temperature\n            this.weather = item.weather\n            this.location = item.location\n            findCacheWeather = true\n          }\n        })\n      }\n\n      if (findCacheWeather === false) {\n        const response = await getWeather(lat,lng)\n        this.temperature = Math.round(response.data.main.temp)\n        this.weather = response.data.weather[0].description\n        this.location = response.data.name\n\n        const weatherInfo = {\n          \"lastQuery\": currentHour,\n          \"temperature\": Math.round(response.data.main.temp),\n          \"weather\": response.data.weather[0].description,\n          \"location\": response.data.name,\n          \"lat\": lat,\n          \"lng\": lng\n        }\n\n        if (!storedWeather) {\n          storedWeather = []\n        }\n\n        storedWeather.push(weatherInfo)\n        sessionStorage.setItem('storedWeather', JSON.stringify(storedWeather))\n      }\n\n      let storedForecast = JSON.parse(sessionStorage.getItem('storedForecast'))\n      let findCacheForecast = false\n\n      if (storedForecast) {\n        storedForecast.forEach((item) => {\n          if (item.lastQuery == currentHour && item.lat == lat && item.lng == lng) {\n            this.forecast = item.forecast\n            findCacheForecast = true\n          }\n        })\n      }\n\n      if (findCacheForecast === false) {\n        const response = await getWeather(lat, lng)\n        const forecast = []\n\n        const forecastList = response.data.list.filter( element => {\n          return element.dt_txt.substring(11,13) === '12' // weather at 12h\n        })\n\n        let i = 0\n        for (let item of forecastList) {\n          forecast.push({\n                          'id': i, \n                          'date': item.dt_txt.substring(8,10) + '/' + item.dt_txt.substring(5,7),\n                          'weather': item.weather[0].description,\n                          'temperature': Math.round(item.main.temp)\n                        })\n          i++\n        }\n\n        this.forecast = forecast\n\n        const forecastInfo = {\n          \"lastQuery\": currentHour,\n          \"lat\": lat,\n          \"lng\": lng,\n          \"forecast\": forecast\n        }\n\n        if (!storedForecast) {\n          storedForecast = []\n        }\n\n        storedForecast.push(forecastInfo)\n        sessionStorage.setItem('storedForecast', JSON.stringify(storedForecast))\n      }\n    }\n  }\n}\n</script>\n<style type=\"text/css\">\n#main-content {\n  background: url('./assets/background.png') no-repeat center center/cover;\n  font-family: 'Work Sans', sans-serif;\n}\n\nspan {\n  color: #1e1559;\n}\n\n#main-content .home {\n  height: 90vh;\n}\n\n.fs-20 {\n  font-size: 20px;\n}\n\n.fs-25 {\n  font-size: 25px;\n}\n\n.fs-30 {\n  font-size: 30px;\n}\n\n.fs-35 {\n  font-size: 35px;\n}\n\n.fs-100 {\n  font-size: 100px;\n}\n\n.block {\n  display: block;\n}\n\n#main-content .btn-search {\n  margin: 0 0 30px 20px;\n}\n\n.backblur {\n  background-color: rgba(255, 255, 255, 0.3);\n  backdrop-filter: blur(10px);\n  border: 1px solid transparent;\n  margin: 5px;\n  border-radius: 5px;\n}\n\n@media (max-width: 600px) {\n  #main-content .btn-search {\n    margin: 0 0 30px 0;\n    width: 100%;\n  }\n}\n</style>"]}]}